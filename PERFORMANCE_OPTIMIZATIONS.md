# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è dinIslam

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Lazy-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –í StatsView –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ã—á–Ω—ã–π VStack –≤–º–µ—Å—Ç–æ LazyVStack
**–§–∞–π–ª**: `StatsView.swift:30`
**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ LazyVStack –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

### 2. –¢—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ body
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–∏—Å–∫ –∏–Ω–¥–µ–∫—Å–∞ –≤ ForEach –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ
**–§–∞–π–ª**: `QuizView.swift:95`
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª—è—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å id –Ω–∞–ø—Ä—è–º—É—é

### 3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ UI
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
**–§–∞–π–ª**: `StartView.swift:76-77`
**–†–µ—à–µ–Ω–∏–µ**: –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async/await

### 4. –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–∞–ø–ø–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ MainActor
**–§–∞–π–ª**: `QuizViewModel.swift:75`
**–†–µ—à–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω—è—Ç—å –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ

### 5. –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ onAppear –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
**–§–∞–π–ª**: `StatsView.swift:275-287`
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ç—á–∏

### –ü–∞—Ç—á 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è StatsView —Å LazyVStack
```swift
// –ó–∞–º–µ–Ω–∏—Ç—å VStack –Ω–∞ LazyVStack –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
LazyVStack(spacing: 20) {
    // ... —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
}
```

### –ü–∞—Ç—á 2: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ QuizView
```swift
// –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª—è—Ç—å –∏–Ω–¥–µ–∫—Å—ã –æ—Ç–≤–µ—Ç–æ–≤
private var answerIndices: [String: Int] {
    guard let question = viewModel.currentQuestion else { return [:] }
    return Dictionary(uniqueKeysWithValues: 
        question.answers.enumerated().map { ($1.id, $0) }
    )
}
```

### –ü–∞—Ç—á 3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```swift
// –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —è–∑—ã–∫ –≤ @State
@State private var cachedLanguageCode: String = "ru"

// –û–±–Ω–æ–≤–ª—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
.onAppear {
    Task {
        cachedLanguageCode = settingsManager.settings.language.locale?.language.languageCode?.identifier ?? "ru"
    }
}
```

### –ü–∞—Ç—á 4: –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
```swift
// –í—ã–ø–æ–ª–Ω—è—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ
let processedQuestions = await Task.detached {
    loadedQuestions.map { quizUseCase.shuffleAnswers(for: $0) }
}.value
```

### –ü–∞—Ç—á 5: –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```swift
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
@State private var preloadedQuestionsCount: Int = 0

private func preloadQuestionsCount() {
    Task {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤ —Ñ–æ–Ω–µ
        let count = await loadQuestionsCount()
        await MainActor.run {
            preloadedQuestionsCount = count
        }
    }
}
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏**: 40-60% –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
2. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**: 30-50% –∑–∞ —Å—á—ë—Ç –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
3. **–ü–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ UI –ø–æ—Ç–æ–∫–∞
4. **–û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @StateObject –≤–º–µ—Å—Ç–æ @ObservedObject** –¥–ª—è ViewModels
2. **–î–æ–±–∞–≤–∏—Ç—å –º–µ–º–æ–∏–∑–∞—Ü–∏—é** –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é** –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** —Å –ø–æ–º–æ—â—å—é lazy loading
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Combine** –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
